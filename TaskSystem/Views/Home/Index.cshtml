@{
    ViewData["Title"] = "Home Page";
}
@using TaskSystem.Dto
<div class="text-center">
    <div id="addSection">
        <button id="btnAddTask" type="button" onclick="addTask.toggle()">Добавить задание</button>
        <button id="btnAddTheme" type="button" onclick="addTheme.toggle()">Добавить тему</button>
    </div>
    <div>
        <div id="taskStatusSection" class="toolbar">
            <button class="toolbar-element" onclick="taskList.getAll()">Все задания</button>
            <button class="toolbar-element" id="btnTaskStatus" value="1" onclick="taskList.getByStatus(1)">Новые</button>
            <button class="toolbar-element" name="taskStatus" value="2" onclick="taskList.getByStatus(2)">В работе</button>
            <button class="toolbar-element" name="taskStatus" value="3" onclick="taskList.getByStatus(3)">Приостановленные</button>
            <button class="toolbar-element" name="taskStatus" value="4" onclick="taskList.getByStatus(4)">Отмененные</button>
            <button class="toolbar-element" name="taskStatus" value="5" onclick="taskList.getByStatus(5)">Выполненные</button>
        </div>
        <div id="mainTable">

        </div>
        <dialog id="addTask">
            <div id="addTaskHeader" class="modal-header">
                <b>Добавить задание</b>
                <button type="button" onclick="addTask.toggle()">X</button>
            </div>
            <form id="addTaskContent">
                <label for="taskName" class="control-label">Название</label>
                <input name="taskName" class="form-control" type="text" required />
                <div class="form-group">
                    <label for="taskTheme" class="control-label">Тема</label>
                    <input name="taskTheme" class="form-control" type="text" required oninput="ThemeRepository.ShowSuggests(this.value)" />
                    <div id="suggestsThemes" style="display: none;"></div>
                </div>

                <label for="taskDescription" class="control-label">Описание</label>
                <textarea name="taskDescription" class="form-control" placeholder="Описание" required></textarea>

                <label for="taskExpireDateTime" class="control-label">Дата окончания</label>
                <input name="taskExpireDateTime" class="form-control" type="datetime-local" required />
                <div class="form-group">
                    <button type="button" onclick="addTask.submit()" class="btn btn-primary">Добавить</button>
                </div>
            </form>
        </dialog>
        <dialog id="addTheme">
            <div class="modal-header">
                <b>Добавить тему</b>
                <button type="button" onclick="addTheme.toggle()">X</button>
            </div>
            <form id="addThemeContent">
                <label for="themeName" class="control-label">Название темы</label>
                <input name="themeName" class="form-control" type="text" />
                <input type="button" value="Добавить" class="btn btn-primary" onclick="addTheme.submit()" />
            </form>
        </dialog>

        <dialog id="taskInfoContainer">
            <div id="taskInfoHeader">
                <label>Задание №</label>
                <button type="button" onclick="currentTask.toggle()">X</button>
            </div>
            <div id="taskInfoContent"></div>

            <div id="commentSection" class="commentSection">

            </div>
        </dialog>
    </div>
</div>



<script src="https://www.jsviews.com/download/jsrender.js"></script>

<script src="~/js/Repositories/CommentRepository.js" asp-append-version="true"></script>
<script src="~/js/Repositories/EmployeeRepository.js" asp-append-version="true"></script>
<script src="~/js/Repositories/Repository.js" asp-append-version="true"></script>
<script src="~/js/Repositories/TaskRepository.js" asp-append-version="true"></script>
<script src="~/js/Repositories/ThemeRepository.js" asp-append-version="true"></script>

<script src="~/js/TaskObject.js" asp-append-version="true"></script>
<script src="~/js/AddTask.js" asp-append-version="true"></script>
<script src="~/js/AddTheme.js" asp-append-version="true"></script>
<script src="~/js/EmployeeList.js" asp-append-version="true"></script>
<script src="~/js/TaskList.js" asp-append-version="true"></script>
<script src="~/js/HistoryObject.js" asp-append-version="true"></script>
<script src="~/js/StatusObject.js" asp-append-version="true"></script>


